# ğŸ“¦ Sistema de Inventario para Tu Negocio
# Perfecto para pequeÃ±os emprendedores que quieren controlar su stock

mostrar "ğŸ“¦ Â¡Bienvenido al Sistema de Inventario de tu Negocio!"
mostrar "Controla tus productos, ventas y ganancias de forma simple"

# Base de datos del inventario
diccionario inventario = {}
lista historial_ventas = []

# FunciÃ³n para mostrar el menÃº principal
funcion mostrar_menu()
    mostrar "\n=== SISTEMA DE INVENTARIO ==="
    mostrar "1. ğŸ“¦ Agregar producto nuevo"
    mostrar "2. ğŸ“‹ Ver inventario completo"
    mostrar "3. ğŸ›’ Registrar venta"
    mostrar "4. ğŸ“Š Ver reporte de ventas"
    mostrar "5. âš ï¸ Productos con poco stock"
    mostrar "6. ğŸ’° Calcular ganancias"
    mostrar "7. ğŸ” Buscar producto"
    mostrar "8. âœï¸ Actualizar producto"
    mostrar "9. ğŸšª Salir"
    mostrar "Â¿QuÃ© quieres hacer? (1-9):"
fin funcion

# FunciÃ³n para agregar productos
funcion agregar_producto()
    mostrar "\nğŸ“¦ AGREGAR PRODUCTO NUEVO"
    mostrar "Nombre del producto:"
    leer nombre
    
    si nombre en inventario
        mostrar "âš ï¸ Este producto ya existe. Usa 'Actualizar producto' para modificarlo"
        retornar
    fin si
    
    mostrar "Precio de compra (lo que te costÃ³):"
    leer precio_compra
    precio_compra = float(precio_compra)
    
    mostrar "Precio de venta (lo que cobras):"
    leer precio_venta
    precio_venta = float(precio_venta)
    
    mostrar "Cantidad inicial en stock:"
    leer cantidad
    cantidad = int(cantidad)
    
    mostrar "DescripciÃ³n (opcional):"
    leer descripcion
    
    inventario[nombre] = {
        "precio_compra": precio_compra,
        "precio_venta": precio_venta,
        "stock": cantidad,
        "descripcion": descripcion,
        "vendidos": 0
    }
    
    ganancia_unitaria = precio_venta - precio_compra
    mostrar "âœ… Producto agregado exitosamente"
    mostrar "ğŸ’° Ganancia por unidad: $" + str(ganancia_unitaria)
fin funcion

# FunciÃ³n para mostrar inventario
funcion mostrar_inventario()
    mostrar "\nğŸ“‹ INVENTARIO COMPLETO"
    
    si len(inventario) == 0
        mostrar "ğŸ“­ No tienes productos en inventario"
        retornar
    fin si
    
    mostrar "=" * 80
    repetir nombre, datos en inventario.items()
        ganancia = datos["precio_venta"] - datos["precio_compra"]
        mostrar "ğŸ·ï¸ " + nombre
        mostrar "   ğŸ’° Precio venta: $" + str(datos["precio_venta"])
        mostrar "   ğŸ“¦ Stock: " + str(datos["stock"]) + " unidades"
        mostrar "   ğŸ“ˆ Ganancia por unidad: $" + str(ganancia)
        mostrar "   ğŸ›’ Vendidos: " + str(datos["vendidos"])
        
        si datos["descripcion"] != ""
            mostrar "   ğŸ“ " + datos["descripcion"]
        fin si
        
        si datos["stock"] <= 5
            mostrar "   âš ï¸ STOCK BAJO - Â¡Considera reabastecer!"
        fin si
        
        mostrar "   " + "-" * 40
    fin repetir
fin funcion

# FunciÃ³n para registrar ventas
funcion registrar_venta()
    mostrar "\nğŸ›’ REGISTRAR VENTA"
    
    si len(inventario) == 0
        mostrar "âŒ No tienes productos para vender"
        retornar
    fin si
    
    mostrar "Â¿QuÃ© producto vendiste?"
    leer producto
    
    si producto no en inventario
        mostrar "âŒ Producto no encontrado en inventario"
        retornar
    fin si
    
    si inventario[producto]["stock"] == 0
        mostrar "âŒ No hay stock de este producto"
        retornar
    fin si
    
    mostrar "Stock disponible: " + str(inventario[producto]["stock"])
    mostrar "Â¿CuÃ¡ntas unidades vendiste?"
    leer cantidad
    cantidad = int(cantidad)
    
    si cantidad > inventario[producto]["stock"]
        mostrar "âŒ No tienes suficiente stock"
        retornar
    fin si
    
    # Actualizar inventario
    inventario[producto]["stock"] -= cantidad
    inventario[producto]["vendidos"] += cantidad
    
    # Calcular venta
    precio_unitario = inventario[producto]["precio_venta"]
    total_venta = precio_unitario * cantidad
    ganancia_unitaria = inventario[producto]["precio_venta"] - inventario[producto]["precio_compra"]
    ganancia_total = ganancia_unitaria * cantidad
    
    # Registrar en historial
    venta = {
        "producto": producto,
        "cantidad": cantidad,
        "precio_unitario": precio_unitario,
        "total": total_venta,
        "ganancia": ganancia_total
    }
    historial_ventas.append(venta)
    
    mostrar "âœ… Venta registrada exitosamente"
    mostrar "ğŸ’° Total de la venta: $" + str(total_venta)
    mostrar "ğŸ“ˆ Ganancia obtenida: $" + str(ganancia_total)
    mostrar "ğŸ“¦ Stock restante: " + str(inventario[producto]["stock"])
fin funcion

# FunciÃ³n para reporte de ventas
funcion reporte_ventas()
    mostrar "\nğŸ“Š REPORTE DE VENTAS"
    
    si len(historial_ventas) == 0
        mostrar "ğŸ“­ No has registrado ventas aÃºn"
        retornar
    fin si
    
    total_vendido = 0
    total_ganancia = 0
    
    mostrar "=" * 60
    repetir venta en historial_ventas
        mostrar "ğŸ›’ " + venta["producto"] + " x" + str(venta["cantidad"])
        mostrar "   ğŸ’° Total: $" + str(venta["total"])
        mostrar "   ğŸ“ˆ Ganancia: $" + str(venta["ganancia"])
        mostrar "   " + "-" * 30
        
        total_vendido += venta["total"]
        total_ganancia += venta["ganancia"]
    fin repetir
    
    mostrar "=" * 60
    mostrar "ğŸ’° TOTAL VENDIDO: $" + str(total_vendido)
    mostrar "ğŸ“ˆ GANANCIA TOTAL: $" + str(total_ganancia)
    
    si total_vendido > 0
        porcentaje_ganancia = (total_ganancia / total_vendido) * 100
        mostrar "ğŸ“Š Margen de ganancia: " + str(round(porcentaje_ganancia, 1)) + "%"
    fin si
fin funcion

# FunciÃ³n para productos con poco stock
funcion productos_stock_bajo()
    mostrar "\nâš ï¸ PRODUCTOS CON POCO STOCK"
    
    productos_bajos = []
    repetir nombre, datos en inventario.items()
        si datos["stock"] <= 5
            productos_bajos.append(nombre)
        fin si
    fin repetir
    
    si len(productos_bajos) == 0
        mostrar "âœ… Todos los productos tienen stock suficiente"
    sino
        mostrar "ğŸš¨ Estos productos necesitan reabastecimiento:"
        repetir producto en productos_bajos
            stock = inventario[producto]["stock"]
            mostrar "   ğŸ“¦ " + producto + ": " + str(stock) + " unidades"
        fin repetir
    fin si
fin funcion

# FunciÃ³n para buscar productos
funcion buscar_producto()
    mostrar "\nğŸ” BUSCAR PRODUCTO"
    mostrar "Escribe el nombre (o parte del nombre):"
    leer termino
    termino = termino.lower()
    
    encontrados = []
    repetir nombre, datos en inventario.items()
        si termino en nombre.lower()
            encontrados.append(nombre)
        fin si
    fin repetir
    
    si len(encontrados) == 0
        mostrar "âŒ No se encontraron productos"
    sino
        mostrar "ğŸ¯ Productos encontrados:"
        repetir producto en encontrados
            datos = inventario[producto]
            mostrar "   ğŸ·ï¸ " + producto + " - Stock: " + str(datos["stock"]) + " - Precio: $" + str(datos["precio_venta"])
        fin repetir
    fin si
fin funcion

# Programa principal
repetir mientras True
    llamar mostrar_menu()
    leer opcion
    
    si opcion == "1"
        llamar agregar_producto()
    sino si opcion == "2"
        llamar mostrar_inventario()
    sino si opcion == "3"
        llamar registrar_venta()
    sino si opcion == "4"
        llamar reporte_ventas()
    sino si opcion == "5"
        llamar productos_stock_bajo()
    sino si opcion == "6"
        llamar reporte_ventas()  # Las ganancias se muestran en el reporte
    sino si opcion == "7"
        llamar buscar_producto()
    sino si opcion == "8"
        mostrar "ğŸ’¡ FunciÃ³n 'Actualizar producto' disponible en prÃ³xima versiÃ³n"
    sino si opcion == "9"
        mostrar "ğŸ“¦ Â¡Gracias por usar tu Sistema de Inventario!"
        mostrar "ğŸ’¼ Â¡Que tengas muchas ventas exitosas!"
        romper
    sino
        mostrar "âŒ OpciÃ³n no vÃ¡lida. Intenta de nuevo"
    fin si
    
    mostrar "\nPresiona Enter para continuar..."
    leer pausa
fin repetir
